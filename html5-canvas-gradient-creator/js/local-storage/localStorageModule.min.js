var angularLocalStorage=angular.module("LocalStorageModule",[]);angularLocalStorage.constant("prefix","ls");angularLocalStorage.constant("cookie",{expiry:30,path:"/"});
angularLocalStorage.service("localStorageService",["$rootScope","prefix","cookie",function(f,d,h){"."!==d.substr(-1)&&(d=d?d+".":"");var g=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return f.$broadcast("LocalStorageModule.notification.error",a.Description),!1}},j=function(a){if(!g())return f.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;try{localStorage.removeItem(d+a)}catch(b){return f.$broadcast("LocalStorageModule.notification.error",
b.Description),!1}return!0},k=function(){try{return navigator.cookieEnabled||"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test"))}catch(a){return f.$broadcast("LocalStorageModule.notification.error",a.Description),!1}},l=function(a,b){if("undefined"==typeof b)return!1;if(!k())return f.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var e="",c=new Date;null===b&&(h.expiry=-1,b="");0!==h.expiry&&(c.setTime(c.getTime()+
864E5*h.expiry),e="; expires="+c.toGMTString());document.cookie=d+a+"="+encodeURIComponent(b)+e+"; path="+h.path}catch(g){return f.$broadcast("LocalStorageModule.notification.error",g.Description),!1}return!0},m=function(a){l(a,null)};return{isSupported:g,add:function(a,b){if(!g())return f.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;if(!b&&0!==b&&""!==b)return!1;try{localStorage.setItem(d+a,b)}catch(e){return f.$broadcast("LocalStorageModule.notification.error",
e.Description),!1}return!0},get:function(a){if(!g())return f.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;a=localStorage.getItem(d+a);return!a?null:a},remove:j,clearAll:function(){if(!g())return f.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var a=d.length,b;for(b in localStorage)if(b.substr(0,a)===d)try{j(b.substr(a))}catch(e){return f.$broadcast("LocalStorageModule.notification.error",e.Description),!1}return!0},
cookie:{add:l,get:function(a){if(!k())return f.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var c=b[e];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(d+a+"="))return decodeURIComponent(c.substring(d.length+a.length+1,c.length))}return null},remove:m,clearAll:function(){for(var a=null,b=d.length,e=document.cookie.split(";"),c=0;c<e.length;c++){for(a=e[c];" "==a.charAt(0);)a=a.substring(1,a.length);
key=a.substring(b,a.indexOf("="));m(key)}}}}}]);